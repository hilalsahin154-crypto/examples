@using MVC_Petshop.Models
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@

@model MVC_Petshop.Models.Product

<div class="container my-5">
    <div class="row g-4">
        <!--Görsel Galerisi--> 
        <div class="col-lg-1 d-none d-lg-block">
            <div class="d-flex flex-column gap-2">
                @foreach (var img in Model.ProductImages)
                {
                    <img src="@img.ImageUrl"
                         class="img-thumbnail thumb-gallery"
                         style="cursor:pointer; aspect-ratio: 1/1; object-fit:cover;"
                         onclick="document.getElementById('buyukResim').src='@img.ImageUrl'"
                         alt="Ürün Küçük Resim">
                }
            </div>
        </div>

        <!--Ana Görsel-->
        <div class="col-lg-5 col-md-6">
            <div class="position-relative border rounded overflow-hidden shadow-sm">
                <img id="buyukResim"
                     src="@Model.ProductImages.FirstOrDefault()?.ImageUrl"
                     class="img-fluid w-100 main-image"
                     alt="@Model.Name">
            </div>
        </div>

        <!--Ürün Bilgileri-->
        <div class="col-lg-6 col-md-6">
            <div class="ps-lg-4">
                
                <h1 class="display-6 fw-bold">@Model.Name</h1>
                <p class="lead text-muted">@Model.ShortDescription</p>

                <div class="d-flex align-items-center my-4">
                    <h2 class="text-success fw-bold mb-0 me-3">@Model.Price.ToString()</h2>
                </div>

                <hr class="my-4">

                <!--Renk Seçimi-->
                <div class="mb-4">
                    <label class="form-label fw-bold">Renk Seçenekleri</label>
                    <div class="d-flex flex-wrap gap-2">
                        @foreach (var c in Model.ProductColors)
                        {
                            <input type="radio" class="btn-check" name="colorOptions" id="color-@c.Id" autocomplete="off">
                            <label class="btn btn-outline-dark btn-sm px-3" for="color-@c.Id">@c.Color?.Name</label>
                        }
                    </div>
                </div>

                <!--Beden Seçimi-->
                <div class="mb-4">
                    <label class="form-label fw-bold">Mevcut Bedenler</label>
                    <div class="d-flex flex-wrap gap-2">
                        @foreach (var s in Model.ProductSizes)
                        {
                            <input type="radio" class="btn-check" name="sizeOptions" id="size-@s.Id" autocomplete="off">
                            <label class="btn btn-outline-secondary btn-sm px-3" for="size-@s.Id">@s.Size?.Name</label>
                        }
                    </div>
                </div>

                <!--Aksiyon Butonları--> 
                <div class="row g-2 mt-4">
                    <div class="col-md-8">
                        <button class="btn btn-primary btn-lg w-100 py-3 fw-bold">
                            <i class="bi bi-cart-plus me-2"></i>Sepete Ekle
                        </button>
                    </div>
                    
                </div>

                <!--Ürün Özellikleri Kartı -->
                <div class="card border-0 bg-light mt-4">
                    <div class="card-body">
                        <h6 class="fw-bold mb-3">Teknik Özellikler</h6>
                        <div class="row row-cols-2 g-2">
                            @foreach (var prop in Model.ProductProperties)
                            {
                                <div class="col small">
                                    <span class="text-muted">Özellik:</span> <strong>@prop.Value</strong>
                                </div>
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--Açıklama Sekmeleri-->
        <div class="col-12">
            <ul class="nav nav-tabs" id="product" >
                <li class="nav-item">
                    <button class="nav-link active fw-bold" data-bs-toggle="tab" data-bs-target="#desc">Ürün Açıklaması</button>
                </li>
            </ul>
            <div class="tab-content border-start border-end border-bottom p-4 bg-white">
                <div class="tab-pane fade show active" id="desc">
                    <div class="lh-lg">@Model.Description</div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .thumb-gallery:hover {
        border-color: #0d6efd;
        opacity: 0.8;
    }

    .main-image {
        transition: transform .3s ease;
    }

        .main-image:hover {
            transform: scale(1.02);
        }
</style>